<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Java logging with log4j  &middot; ZYBNET</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="description" content="" />

<meta name="keywords" content="java, log4j, logging, ">


<meta property="og:title" content="Java logging with log4j  &middot; ZYBNET ">
<meta property="og:site_name" content="ZYBNET"/>
<meta property="og:url" content="https://www.zybnet.com/2012/07/13/java-logging-with-log4j/" />
<meta property="og:locale" content="en-EN">


<meta property="og:type" content="article" />
<meta property="og:description" content=""/>
<meta property="og:article:published_time" content="2012-07-13T15:30:20Z" />
<meta property="og:article:modified_time" content="2012-07-13T15:30:20Z" />

  
    
<meta property="og:article:tag" content="java">
    
<meta property="og:article:tag" content="log4j">
    
<meta property="og:article:tag" content="logging">
    
  

  
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@raffaelesgarro" />
<meta name="twitter:creator" content="@raffaelesgarro" />
<meta name="twitter:title" content="Java logging with log4j" />
<meta name="twitter:description" content="" />
<meta name="twitter:url" content="https://www.zybnet.com/2012/07/13/java-logging-with-log4j/" />
<meta name="twitter:domain" content="https://www.zybnet.com/">
  

<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Article",
    "headline": "Java logging with log4j",
    "author": {
      "@type": "Person",
      "name": "http://profiles.google.com/+?rel=author"
    },
    "datePublished": "2012-07-13",
    "description": "",
    "wordCount": 492
  }
</script>



<link rel="canonical" href="https://www.zybnet.com/2012/07/13/java-logging-with-log4j/" />

<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://www.zybnet.com/touch-icon-144-precomposed.png">
<link href="https://www.zybnet.com/favicon.png" rel="icon">

<meta name="generator" content="Hugo 0.19" />

  <!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link href='https://fonts.googleapis.com/css?family=Merriweather:300%7CRaleway%7COpen+Sans' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="https://www.zybnet.com/css/font-awesome.min.css">
<link rel="stylesheet" href="https://www.zybnet.com/css/style.css">
<link rel="stylesheet" href="https://www.zybnet.com/css/highlight/default.css">

  
</head>
<body>
  <main id="main-wrapper" class="container main_wrapper has-sidebar">
    <header id="main-header" class="container main_header">
  <div class="container brand">
  <div class="container title h1-like">
  <a class="baselink" href="https://www.zybnet.com/">
  ZYBNET

</a>

</div>

  
<div class="container topline">
  
  My hacking journal


</div>


</div>

  <nav class="container nav primary no-print">
  

<a class="homelink" href="https://www.zybnet.com/">Home</a>


  
<a href="https://www.zybnet.com/about">About</a>

<a href="https://www.zybnet.com/post" title="Show list of posts">Posts</a>

<a href="https://www.zybnet.com/tags" title="Show list of tags">Tags</a>

<a href="https://www.zybnet.com/zuml" title="ZUML">ZUML</a>


</nav>

<div class="container nav secondary no-print">
  
<a id="contact-link-email" class="contact_link" href="mailto:raffaeleSgarro@gmail.com">
  <span class="fa fa-envelope-square"></span><span>email</span></a>



<a id="contact-link-github" class="contact_link" href="https://github.com/RaffaeleSgarro/raffaelesgarro.github.io">
  <span class="fa fa-github-square"></span><span>github</span></a>









<a id="contact-link-facebook" class="contact_link" href="https://www.facebook.com/raffaelesgarro">
  <span class="fa fa-facebook-square"></span><span>facebook</span></a>



<a id="contact-link-twitter" class="contact_link" href="https://twitter.com/raffaelesgarro">
  <span class="fa fa-twitter-square"></span><span>twitter</span></a>







<a id="contact-link-stackoverflow" class="contact_link" href="https://stackoverflow.com/users/315306">
  <span class="fa fa-stack-overflow"></span><span>stackoverflow</span></a>



</div>


  

</header>


<article id="main-content" class="container main_content single">
  <header class="container hat">
  <h1>Java logging with log4j
</h1>

  <div class="metas">
<time datetime="2012-07-13">13 Jul, 2012</time>


  
    &middot; by admin
  
  &middot; Read in about 3 min
  &middot; (492 Words)
  <br>
  
<a class="label" href="https://www.zybnet.com/tags/java">java</a>

<a class="label" href="https://www.zybnet.com/tags/log4j">log4j</a>

<a class="label" href="https://www.zybnet.com/tags/logging">logging</a>



</div>

</header>

  <div class="container content">
  <p>What is a Logger? Basically it&rsquo;s an object which lets you write code like</p>

<pre><code>logger.debug(&quot;Just entered main&quot;);
logger.error(new FileNotFoundException(&quot;/home/foo/bar.txt&quot;));
logger.warn(new Integer(12921));
</code></pre>

<p>instead of all those <code>System.out.println</code> to log what your program does. With log4j one can conveniently log to stdout, a rolling file, the syslog daemon, a message queue and so on.</p>

<p>How to get a Logger object? Call the static method <code>Logger.getLogger(String name)</code>. As you can see, when you get a Logger you explicitely supply an identifier. This name is used to provide context to logging calls, so they can be effectively filtered depending on applied settings. Logger names are arranged in a hierarchical tree based on their dot separated names, exactly like DNS works: com.foo is the parent of com.foo.bar, which is a com.foo child and a descendant of both com and com.foo. Instead &laquo;com&raquo; alone is said to be an ancestor of com.foo.bar. The hierarchy matters because child loggers inherits some properties from their ancestors, like level and default appenders.</p>

<p>Logging is usually configured in a property files, sometimes to give users a chance for customization, but more often just to tell declarative code apart. So we put this <code>log4j.properties</code> somewhere in the <code>CLASSPATH</code> (sometimes it can be useful to start the VM with the system property <code>-Dlog4j.debug</code> to see what configuration file log4j is picking to configure itself):</p>

<pre><code># Declare a logger named &quot;com.zybnet&quot;, and add
# two named appenders: &quot;goku&quot; and &quot;vegeta&quot;.
# The first argument, &quot;debug&quot;, is optional and specifies
# the minimum level for the message to be logged
log4j.logger.com.zybnet=debug, goku, vegeta

# Declare the &quot;goku&quot; appender and define it
log4j.appender.goku=org.apache.log4j.ConsoleAppender
log4j.appender.goku.layout=org.apache.log4j.PatternLayout
log4j.appender.goku.layout.ConversionPattern=[%-5p] %m%n

# Declare the &quot;vegeta&quot; appender
log4j.appender.vegeta=org.apache.log4j.RollingFileAppender
log4j.appender.vegeta.layout=org.apache.log4j.HTMLLayout
log4j.appender.vegeta.layout.Title=My fantastic app log
log4j.appender.vegeta.File=/users/raffaele/desktop/main.log.html
log4j.appender.vegeta.MaxFileSize=500KB
</code></pre>

<p>The code is quite well commented, you should intuitively understand what an &laquo;appender&raquo; is, what a &laquo;layout&raquo; is and how a named logger is created and configured. The only things that should be noted is that this file is interpreted by the <code>PropertyConfigurator</code> after the JavaBean standard: when you see <code>setSomething()</code> and <code>getSomething()</code> in the Javadoc, there is a property named Something that can be configured (examples are <code>vegeta.File</code> and <code>layout.ConversionPattern</code>). Remeber to traverse the Java class hierarchy to discover properties defined by superclasses.</p>

<p>Here is a sample Java demo which exercise the log4j API and also illustrates how to get a logger via a class name</p>

<pre><code>package com.zybnet;

import java.io.FileNotFoundException;

import org.apache.log4j.Logger;
import org.apache.log4j.PropertyConfigurator;

public class Main {

    static Logger logger;

    static {
        logger = Logger.getLogger(Main.class);
        PropertyConfigurator.configure(Main.class.getResource(&quot;log4j.properties&quot;));
    }

    public static void main(String[] args) {
        logger.debug(&quot;Just entered main&quot;);
        logger.error(new FileNotFoundException(&quot;/home/foo/bar.txt&quot;));
        logger.warn(new Integer(12921));
    }

}
</code></pre>

<p>Here are some useful links:</p>

<pre><code>* [Manual](http://logging.apache.org/log4j/1.2/manual.html)


* [PropertyConfigurator Javadoc](http://logging.apache.org/log4j/1.2/apidocs/index.html?org/apache/log4j/BasicConfigurator.html)


* [PatternLayout](http://logging.apache.org/log4j/1.2/apidocs/index.html?org/apache/log4j/PatternLayout.html)
</code></pre>

<p>This is a quick reference to understand basic log4j usage. If one needs more specialized behavior, it can certainly understand the official doc itself ;)</p>

<p>To disable a logger you use <code>OFF</code> (it&rsquo;s kind of an undocumented log level)</p>

<pre><code>log4j.logger.com.example.VerboseCode=OFF
</code></pre>

<p>Todo: Often log4j is paired with slf4j and commons-logging. Explore these things.</p>
</div>


  <footer class="container">
  <div class="container navigation no-print">
  <h2>Navigation</h2>
  
  

    
    <a class="prev" href="https://www.zybnet.com/2012/06/24/jquery-deferred-to-queue-ajax-calls/" title="jQuery.Deferred to queue ajax calls">
      Previous
    </a>
    

    
    <a class="next" href="https://www.zybnet.com/2012/07/24/cakephp-the-basics/" title="CakePHP: the basics">
      Next
    </a>
    

  


</div>

  <div class="container comments">
  <h2>Comments</h2>
  
<div id="disqus_thread"></div>
<script type="text/javascript">
  (function() {
    
    
    if (window.location.hostname == "localhost")
      return;

    var dsq = document.createElement('script'); dsq.async = true; dsq.type = 'text/javascript';
    dsq.src = '//zybnet.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


</div>

</footer>

</article>
      <footer id="main-footer" class="container main_footer">
  

  <div class="container nav foot no-print">
  
<a href="http://www.wtfpl.net/txt/copying/">Do What The Fuck You Want To Public License</a>


  <a class="toplink" href="#">back to top</a>

</div>

  <div class="container credits">
  
<div class="container footline">
  

</div>


  

</div>

</footer>

    </main>
    
<script type="text/javascript">
  (function() {
    
    
    if (window.location.hostname == "localhost")
      return;

    var dsq = document.createElement('script'); dsq.async = true; dsq.type = 'text/javascript';
    dsq.src = '//zybnet.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>



<script src="https://www.zybnet.com/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>




    
  </body>
</html>

